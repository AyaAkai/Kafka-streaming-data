import{a as d}from"./chunk-2RVFYHCV.js";import{Ia as u,K as I,Ka as C,La as w,Ma as P,Oa as A,Qa as y,Rb as B,c as p,d as z,db as N,ia as g,ja as k,z as T}from"./chunk-MFWHCUK5.js";var F=p(z());var o=p(T()),E=({context:i,value:e,target:s,type:c,placeholder:S,options:m,props:a})=>{let[l,h]=(0,F.useState)(e),[f,O]=(0,F.useState)(!1);(0,F.useEffect)(()=>{h(e)},[e]);let x=b=>{h(b)},v=()=>{i?.formAction({propertyName:s,isAction:!1,value:l})};switch(c){case"input":return(0,o.jsx)(y,{value:l,onChange:(n,t)=>x(t.value),onBlur:v,size:"small",...a});case"textarea":return(0,o.jsx)(N,{value:l,size:"small",onChange:(n,t)=>x(t.value),onBlur:v,...a});case"password":return(0,o.jsx)(y,{type:f?"text":"password",value:l,onChange:(n,t)=>x(t.value),onBlur:v,size:"small",contentAfter:(0,o.jsx)(u,{onClick:()=>O(!f),icon:f?(0,o.jsx)(g,{}):(0,o.jsx)(k,{}),appearance:"transparent",size:"small"}),...a});case"checkbox":let{label:b,...V}=a;return(0,o.jsx)(w,{labelPosition:"after",size:"medium",checked:l,onChange:(n,t)=>i?.formAction({propertyName:s,isAction:!1,value:t.checked}),label:(0,o.jsx)(d,{labelText:b,muted:!0}),...V});case"dropdown":if(m===void 0)throw new Error("Dropdown component must have options");return(0,o.jsx)(A,{size:"small",placeholder:S??"",value:m?.find(n=>n.value===l)?.displayName??"",selectedOptions:[l],onOptionSelect:(n,t)=>{i?.formAction({propertyName:s,isAction:!1,value:t.optionValue})},...a,children:m?.map((n,t)=>(0,o.jsx)(P,{value:n.value,children:n.displayName},s+t))})}};var r=p(T()),te=({context:i,component:e,idx:s,props:c})=>{if(!e||!e.type){console.error("Form component is undefined");return}let S=e.tooltip?{children:(m,a)=>(0,r.jsx)(B,{...a,info:e.tooltip,children:(0,r.jsx)(d,{labelText:e.label})})}:(0,r.jsx)(d,{labelText:e.label,muted:!0});return(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{validationMessage:e.validation?.validationMessage??"",orientation:e.type==="checkbox"?"horizontal":"vertical",validationState:e.validation?e.validation.isValid?"none":"error":"none",required:e.required,label:e.type==="checkbox"?void 0:S,...c,style:{marginBottom:"10px",color:I.colorNeutralForeground1,paddingLeft:e.type==="checkbox"?"0px":"inherit"},children:(0,r.jsx)(E,{context:i,value:i.state.formState[e.propertyName],target:e.propertyName,type:e.type,placeholder:e.placeholder??"",options:e.options??[],props:{...c,label:e.type==="checkbox"?e.label:void 0}})}),e?.actionButtons?.length>0&&(0,r.jsx)("div",{children:e.actionButtons?.map((m,a)=>(0,r.jsx)(u,{style:{width:"120px",marginBottom:"10px"},shape:"square",onClick:()=>i?.formAction({propertyName:e.propertyName,isAction:!0,value:m.id}),children:m.label},a+m.id))})]},s)};export{te as a};
