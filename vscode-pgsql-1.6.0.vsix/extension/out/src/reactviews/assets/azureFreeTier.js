import{a as G}from"./chunk-VKZNCX6H.js";import"./chunk-2RVFYHCV.js";import{Ea as F,Fa as S,Ga as D,Ia as I,Nb as B,Ob as R,Qb as M,Ra as P,Sa as v,Tb as W,Ub as N,Yb as j,Zb as H,_a as z,_b as L,bb as f,c as t,d as k,f as ne,i as b,j as C,z as r}from"./chunk-MFWHCUK5.js";var ie=t(ne());var E=t(k());var O=t(r()),a=(0,E.createContext)(void 0),A=({children:e})=>{let n=L(),d=n?.state;return(0,O.jsx)(a.Provider,{value:{state:d,themeKind:n?.themeKind,formAction:function(m){n?.extensionRpc.action("formAction",{event:m})},login:function(){n?.extensionRpc.action("login")},create:function(){n?.extensionRpc.action("create")},delete:function(){n?.extensionRpc.action("delete")},reconnect:function(){n?.extensionRpc.action("reconnect")},connect:function(){n?.extensionRpc.action("connect")},log:function(){},sendActionEvent:function(){},sendErrorEvent:function(){}},children:e})};var Y=t(k());var g=t(r()),h=e=>(0,g.jsx)(f,{style:{paddingBottom:"10px"},children:e}),V=e=>(0,g.jsx)(f,{size:500,style:{lineHeight:"60px"},weight:"medium",children:e}),p=e=>(0,g.jsx)(f,{size:400,style:{lineHeight:"60px",width:"100%"},weight:"medium",children:e});var _="./pgsqlServerCreate_light-UIMY3DZX.svg";var q="./pgsqlServerCreate_dark-PH7624N2.svg";var y=t(r()),K=()=>{let e=(0,Y.useContext)(a);return(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,y.jsx)(P,{style:{padding:"10px"},src:e?.themeKind===1?_:q,alt:"SQL Server",height:60,width:60}),V(j.freeTierCreate.createFreeTierPGInstance)]})};var oe=t(k());var Q=t(k());var U=t(r()),c=({text:e,action:n,style:d,className:m})=>(0,U.jsx)(I,{appearance:"primary",shape:"square",onClick:T=>{n()},className:m,style:d,iconPosition:"after",children:e});var o=t(r());function fe(e){switch(e.state.displayState){case"creatingInstance":return(0,o.jsx)("div",{children:(0,o.jsx)(z,{size:"huge",label:"Please wait..."})});case"createdInstance":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,o.jsxs)("table",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)(f,{children:"Profile Name: "})}),(0,o.jsx)("td",{children:(0,o.jsx)(f,{children:e.state.formState.profileName})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)(f,{children:"Database URL: "})}),(0,o.jsx)("td",{children:(0,o.jsx)(f,{children:e.state.db_url})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)(f,{children:"Database Username: "})}),(0,o.jsx)("td",{children:(0,o.jsx)(f,{children:e.state.formState.username})})]})]})}),(0,o.jsx)("br",{}),(0,o.jsx)(c,{text:"Connect",action:e.connect})]})}}var Z=()=>{let e=(0,Q.useContext)(a);return(0,o.jsxs)("div",{style:{width:"100%",alignItems:"start"},children:[p(e.state.displayState==="creatingInstance"?"Creating your database:":"Your database is ready:"),(0,o.jsx)("div",{style:{overflow:"auto"},children:fe(e)})]})};var w=t(k());var s=t(r()),J=()=>{let e=(0,w.useContext)(a),[n,d]=(0,w.useState)(!1);return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start"},children:[p("You have an existing instance:"),h("Each Github account is allowed to have a single PortgreSQL instance associated with it. You can choose to reconnect to your existing instance or, optionally, delete it and start over."),(0,s.jsx)("br",{}),(0,s.jsxs)("span",{style:{width:"100%"},children:[(0,s.jsx)(c,{text:"Reconnect Instance",action:e.reconnect}),(0,s.jsxs)(S,{open:n,onOpenChange:(m,T)=>{d(T.open)},children:[(0,s.jsx)(D,{children:(0,s.jsx)(c,{text:"Delete & Recreate",action:()=>{d(!0)},style:{background:"#cc3e44",float:"right"}})}),(0,s.jsx)(F,{children:(0,s.jsxs)("div",{children:[h("Are you sure you want to delete your instance and start over?"),(0,s.jsx)("br",{}),(0,s.jsx)(c,{text:"Delete",action:e.delete,style:{background:"#cc3e44",float:"right"}})]})})]})]})]})};var X=t(k());var u=t(r()),$=()=>{let e=(0,X.useContext)(a);return(0,u.jsxs)("div",{style:{width:"100%",alignItems:"start"},children:[p("Confirm Your Database Options:"),(0,u.jsx)("div",{style:{overflow:"auto"},children:Object.entries(e.state.formComponents).map(([n,d],m)=>(0,u.jsx)(G,{context:e,component:d,idx:m},m))}),(0,u.jsx)(c,{text:"Create Instance",action:e.create})]})};var ee=t(k());var l=t(r()),te=()=>{let e=(0,ee.useContext)(a);return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start"},children:[p("Your Free Cloud Database Awaits!"),(0,l.jsx)("span",{children:h("You can create a free Azure PostgreSQL server through your GitHub account, which allows one free server per account. ")}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{children:[h("If your project grows, you can seamlessly migrate this free server to a paid tier for increased capacity and features: "),(0,l.jsx)(v,{href:"",children:"See Migration"})]}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{children:[h("To make the best use of this resource, it\u2019s ideal for testing, prototyping, or running lightweight applications. To learn more: "),(0,l.jsx)(v,{href:"",children:"See Tutorial"})]}),(0,l.jsx)("br",{}),(0,l.jsx)(c,{text:"Login with GitHub",action:e.login})]})};var i=t(r()),ce=C({root:{flexDirection:"row",display:"flex",height:"100%",width:"100%",maxWidth:"100%",maxHeight:"100%"},mainContainer:{...b.flex(1),height:"100%"},paneRoot:{overflow:"hidden",display:"flex"},content:{flex:"1",padding:"16px",display:"flex",flexDirection:"column",width:"70%",justifyContent:"center",alignItems:"flex-start"}});function de(e){switch(e){case"githubLogin":return(0,i.jsx)(te,{});case"createOptions":return(0,i.jsx)($,{});case"existingInstance":return(0,i.jsx)(J,{});case"creatingInstance":case"createdInstance":return(0,i.jsx)(Z,{});default:return}}function pe(e){if(!e.hide)return(0,i.jsx)(B,{intent:e.level,shape:"square",children:(0,i.jsxs)(M,{children:[(0,i.jsx)(R,{children:e.title}),e.text]})})}var re=()=>{let e=ce(),n=(0,oe.useContext)(a);return(0,i.jsx)("div",{className:e.root,children:(0,i.jsxs)("div",{className:e.mainContainer,children:[pe(n.state.bannerState),(0,i.jsx)(K,{}),(0,i.jsxs)("div",{className:e.paneRoot,children:[(0,i.jsx)("div",{className:e.content,children:de(n.state.displayState)}),(0,i.jsx)(W,{separator:!0,open:!0,children:(0,i.jsx)(N,{children:(0,i.jsx)("p",{children:"Put the cost info table here"})})})]})]})})};var x=t(r());ie.default.createRoot(document.getElementById("root")).render((0,x.jsx)(H,{children:(0,x.jsx)(A,{children:(0,x.jsx)(re,{})})}));
