"use strict";
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See LICENSE in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", { value: true });
exports.WslShellCommandRunnerFactory = void 0;
const commandLineBuilder_1 = require("../utils/commandLineBuilder");
const shellStream_1 = require("./shellStream");
/**
 * Special case of {@link ShellStreamCommandRunnerFactory} for executing commands in a wsl distro
 */
class WslShellCommandRunnerFactory extends shellStream_1.ShellStreamCommandRunnerFactory {
    getCommandAndArgs(commandResponse) {
        var _a;
        const command = (_a = this.options.wslPath) !== null && _a !== void 0 ? _a : 'wsl.exe';
        const args = (0, commandLineBuilder_1.composeArgs)((0, commandLineBuilder_1.withNamedArg)('-d', this.options.distro), (0, commandLineBuilder_1.withArg)('--'), (0, commandLineBuilder_1.withArg)(commandResponse.command), (0, commandLineBuilder_1.withArg)(...commandResponse.args))();
        return { command, args };
    }
}
exports.WslShellCommandRunnerFactory = WslShellCommandRunnerFactory;
//# sourceMappingURL=wslStream.js.map