"use strict";
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See LICENSE in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", { value: true });
exports.withDockerMountsArg = exports.formatDockerMount = void 0;
const commandLineBuilder_1 = require("../../utils/commandLineBuilder");
function formatDockerMount(mount) {
    const mountParts = new Array(`type=${mount.type}`, `source=${mount.source}`, `destination=${mount.destination}`, mount.readOnly ? 'readonly' : '');
    return mountParts.filter((part) => !!part).join(',');
}
exports.formatDockerMount = formatDockerMount;
function withDockerMountsArg(mounts) {
    return (0, commandLineBuilder_1.withNamedArg)('--mount', (mounts || []).map(formatDockerMount));
}
exports.withDockerMountsArg = withDockerMountsArg;
//# sourceMappingURL=withDockerMountsArg.js.map